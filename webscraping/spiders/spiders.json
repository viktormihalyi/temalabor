{
    "spider_name": "hardverapro",
    "enabled": true,

    "starting_urls": [
        {
            "urls": ["https://hardverapro.hu/aprok/index.html"],
            "method": "visit_products"
        }
    ],

    "methods": [
        {
            "method_name": "visit_products",
            "main_method": true,
            "follow_links": [
                {
                    "selector_name": "product_urls",
                    "call_method": "collect_data"
                },
                {
                    "selector_name": "next_page_url",
                    "call_method": "visit_products"
                }
            ]
        },
        {
            "method_name": "collect_data",
            "call_collectors": [ "termek" ]
        }
    ],

    "selectors": [
        {
            "selector_name": "next_page_url",
            "max": 4,
            "type": "xpath",
            "command": "//*[@id=\"forum-nav-top\"]/ul[1]/li[4]/a/@href"
        },
        {
            "selector_name": "product_urls",
            "type": "css",
            "command": "[data-uadid] > a::attr(href)"
        },
        {
            "selector_name": "item_title",
            "type": "xpath",
            "command": "//*[@id=\"center\"]/div[1]/div[1]/h1/text()"
        },
        {
            "selector_name": "item_desc",
            "type": "xpath",
            "command": "//*[@id=\"center\"]/div[1]/div[6]/div"
        },
        {
            "selector_name": "item_price",
            "type": "xpath",
            "command": "///*[@id=\"center\"]/div[1]/div[5]/div[1]/h2"
        },
        {
            "selector_name": "item_image_url",
            "type": "xpath",
            "command": "concat('https://hardverapro.hu',//*[@id=\"uad-images-carousel\"]/div/div/a/img/@src)"
        }
    ],

    "data_collectors": [
        {
            "name": "termek",
            "properties": [
                {
                    "name": "title",
                    "selector_name": "item_title",
                    "type": "text"
                },
                {
                    "name": "description",
                    "selector_name": "item_desc",
                    "type": "text"
                },
                {
                    "name": "price",
                    "selector_name": "item_price",
                    "type": "number"
                },
                {
                    "name": "image_url",
                    "selector_name": "item_image_url",
                    "type": "raw"
                }
            ]
        }
    ]
}
